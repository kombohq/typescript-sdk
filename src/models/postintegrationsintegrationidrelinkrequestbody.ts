/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Language of the connection flow UI.
 */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLanguage = {
  En: "en",
  De: "de",
  Fr: "fr",
  It: "it",
  Es: "es",
} as const;
/**
 * Language of the connection flow UI.
 */
export type PostIntegrationsIntegrationIdRelinkRequestBodyLanguage = ClosedEnum<
  typeof PostIntegrationsIntegrationIdRelinkRequestBodyLanguage
>;

/**
 * The type of link you want to create. `EMBEDDED` is for the [embedded flow](../guides/connect/embedded-flow) using the Kombo Connect SDK (these links are valid for 1 hour) and `MAGIC_LINK` is for [magic links](../guides/connect/magic-links) which you send out manually to customers (there are valid for 1 year).
 *
 * @remarks
 *
 * This defaults to `EMBEDDED`, which is our recommended method of implementing the connection flow for a seamless user experience.
 */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLinkType = {
  Embedded: "EMBEDDED",
  MagicLink: "MAGIC_LINK",
} as const;
/**
 * The type of link you want to create. `EMBEDDED` is for the [embedded flow](../guides/connect/embedded-flow) using the Kombo Connect SDK (these links are valid for 1 hour) and `MAGIC_LINK` is for [magic links](../guides/connect/magic-links) which you send out manually to customers (there are valid for 1 year).
 *
 * @remarks
 *
 * This defaults to `EMBEDDED`, which is our recommended method of implementing the connection flow for a seamless user experience.
 */
export type PostIntegrationsIntegrationIdRelinkRequestBodyLinkType = ClosedEnum<
  typeof PostIntegrationsIntegrationIdRelinkRequestBodyLinkType
>;

export type PostIntegrationsIntegrationIdRelinkRequestBody = {
  /**
   * Language of the connection flow UI.
   */
  language?:
    | PostIntegrationsIntegrationIdRelinkRequestBodyLanguage
    | null
    | undefined;
  /**
   * Specify a scope config which the integration will start using once the reconnection flow has been completed.
   *
   * @remarks
   *
   * This can be useful if you want to update the permissions of an integration, but only want the change to take effect once the user has updated their API credentials to prevent sync issues.
   */
  scope_config_id?: string | null | undefined;
  /**
   * The type of link you want to create. `EMBEDDED` is for the [embedded flow](../guides/connect/embedded-flow) using the Kombo Connect SDK (these links are valid for 1 hour) and `MAGIC_LINK` is for [magic links](../guides/connect/magic-links) which you send out manually to customers (there are valid for 1 year).
   *
   * @remarks
   *
   * This defaults to `EMBEDDED`, which is our recommended method of implementing the connection flow for a seamless user experience.
   */
  link_type?:
    | PostIntegrationsIntegrationIdRelinkRequestBodyLinkType
    | undefined;
};

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$inboundSchema:
  z.ZodNativeEnum<
    typeof PostIntegrationsIntegrationIdRelinkRequestBodyLanguage
  > = z.nativeEnum(PostIntegrationsIntegrationIdRelinkRequestBodyLanguage);

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$outboundSchema:
  z.ZodNativeEnum<
    typeof PostIntegrationsIntegrationIdRelinkRequestBodyLanguage
  > = PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$ {
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$inboundSchema` instead. */
  export const inboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$inboundSchema;
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$outboundSchema` instead. */
  export const outboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$outboundSchema;
}

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$inboundSchema:
  z.ZodNativeEnum<
    typeof PostIntegrationsIntegrationIdRelinkRequestBodyLinkType
  > = z.nativeEnum(PostIntegrationsIntegrationIdRelinkRequestBodyLinkType);

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$outboundSchema:
  z.ZodNativeEnum<
    typeof PostIntegrationsIntegrationIdRelinkRequestBodyLinkType
  > = PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$ {
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$inboundSchema` instead. */
  export const inboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$inboundSchema;
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$outboundSchema` instead. */
  export const outboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$outboundSchema;
}

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBody$inboundSchema:
  z.ZodType<
    PostIntegrationsIntegrationIdRelinkRequestBody,
    z.ZodTypeDef,
    unknown
  > = z.object({
    language: z.nullable(
      PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$inboundSchema
        .default("en"),
    ),
    scope_config_id: z.nullable(z.string()).optional(),
    link_type:
      PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$inboundSchema
        .default("EMBEDDED"),
  });

/** @internal */
export type PostIntegrationsIntegrationIdRelinkRequestBody$Outbound = {
  language: string | null;
  scope_config_id?: string | null | undefined;
  link_type: string;
};

/** @internal */
export const PostIntegrationsIntegrationIdRelinkRequestBody$outboundSchema:
  z.ZodType<
    PostIntegrationsIntegrationIdRelinkRequestBody$Outbound,
    z.ZodTypeDef,
    PostIntegrationsIntegrationIdRelinkRequestBody
  > = z.object({
    language: z.nullable(
      PostIntegrationsIntegrationIdRelinkRequestBodyLanguage$outboundSchema
        .default("en"),
    ),
    scope_config_id: z.nullable(z.string()).optional(),
    link_type:
      PostIntegrationsIntegrationIdRelinkRequestBodyLinkType$outboundSchema
        .default("EMBEDDED"),
  });

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace PostIntegrationsIntegrationIdRelinkRequestBody$ {
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBody$inboundSchema` instead. */
  export const inboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBody$inboundSchema;
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBody$outboundSchema` instead. */
  export const outboundSchema =
    PostIntegrationsIntegrationIdRelinkRequestBody$outboundSchema;
  /** @deprecated use `PostIntegrationsIntegrationIdRelinkRequestBody$Outbound` instead. */
  export type Outbound =
    PostIntegrationsIntegrationIdRelinkRequestBody$Outbound;
}

export function postIntegrationsIntegrationIdRelinkRequestBodyToJSON(
  postIntegrationsIntegrationIdRelinkRequestBody:
    PostIntegrationsIntegrationIdRelinkRequestBody,
): string {
  return JSON.stringify(
    PostIntegrationsIntegrationIdRelinkRequestBody$outboundSchema.parse(
      postIntegrationsIntegrationIdRelinkRequestBody,
    ),
  );
}

export function postIntegrationsIntegrationIdRelinkRequestBodyFromJSON(
  jsonString: string,
): SafeParseResult<
  PostIntegrationsIntegrationIdRelinkRequestBody,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      PostIntegrationsIntegrationIdRelinkRequestBody$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'PostIntegrationsIntegrationIdRelinkRequestBody' from JSON`,
  );
}
