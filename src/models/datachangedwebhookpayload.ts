/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Type of the webhook event
 */
export const DataChangedWebhookPayloadType = {
  DataChanged: "data-changed",
} as const;
/**
 * Type of the webhook event
 */
export type DataChangedWebhookPayloadType = ClosedEnum<
  typeof DataChangedWebhookPayloadType
>;

/**
 * The category of the integration (HRIS, ATS, ASSESSMENT, or LMS).
 */
export const DataChangedWebhookPayloadIntegrationCategory = {
  Hris: "HRIS",
  Ats: "ATS",
  Assessment: "ASSESSMENT",
  Lms: "LMS",
} as const;
/**
 * The category of the integration (HRIS, ATS, ASSESSMENT, or LMS).
 */
export type DataChangedWebhookPayloadIntegrationCategory = ClosedEnum<
  typeof DataChangedWebhookPayloadIntegrationCategory
>;

/**
 * The name of the Kombo model or connection that changed.
 */
export const Name = {
  HrisLegalEntities: "hris_legal_entities",
  HrisLocations: "hris_locations",
  HrisEmployees: "hris_employees",
  HrisAbsenceTypes: "hris_absence_types",
  HrisAbsences: "hris_absences",
  HrisEmployments: "hris_employments",
  HrisTeams: "hris_teams",
  HrisTimeOffBalances: "hris_time_off_balances",
  HrisTimesheets: "hris_timesheets",
  HrisEmployeeDocumentCategories: "hris_employee_document_categories",
  HrisPerformanceReviews: "hris_performance_reviews",
  HrisPerformanceReviewCycles: "hris_performance_review_cycles",
  AtsUsers: "ats_users",
  AtsJobs: "ats_jobs",
  AtsJobPostings: "ats_job_postings",
  AtsCandidates: "ats_candidates",
  AtsApplicationStages: "ats_application_stages",
  AtsApplications: "ats_applications",
  AtsScreeningQuestions: "ats_screening_questions",
  AtsTags: "ats_tags",
  AtsInterviews: "ats_interviews",
  AtsOffers: "ats_offers",
  AtsRejectionReasons: "ats_rejection_reasons",
  LmsUsers: "lms_users",
  LmsCourseProviders: "lms_course_providers",
  LmsSkills: "lms_skills",
  LmsCourses: "lms_courses",
  LmsCourseRevisions: "lms_course_revisions",
  LmsCourseProgressions: "lms_course_progressions",
  HrisJoinEmployeesTeams: "hris_join_employees_teams",
  AtsJoinCandidatesTags: "ats_join_candidates_tags",
  AtsJoinJobsApplicationStages: "ats_join_jobs_application_stages",
  AtsJoinJobsScreeningQuestions: "ats_join_jobs_screening_questions",
  AtsJoinJobsUsers: "ats_join_jobs_users",
  AtsJoinInterviewsUsers: "ats_join_interviews_users",
  LmsJoinRevisionsSkills: "lms_join_revisions_skills",
} as const;
/**
 * The name of the Kombo model or connection that changed.
 */
export type Name = ClosedEnum<typeof Name>;

/**
 * A model or connection that has changed in the integration.
 */
export type ChangedModel = {
  /**
   * The name of the Kombo model or connection that changed.
   */
  name: Name;
};

export type DataChangedWebhookPayloadData = {
  /**
   * The unique identifier of the integration.
   */
  integration_id: string;
  /**
   * The name of the integrated tool (e.g., "personio", "greenhouse").
   */
  integration_tool: string;
  /**
   * The category of the integration (HRIS, ATS, ASSESSMENT, or LMS).
   */
  integration_category: DataChangedWebhookPayloadIntegrationCategory;
  /**
   * List of data models and connections for which one or more records were created, updated, or deleted.
   */
  changed_models: Array<ChangedModel>;
};

export type DataChangedWebhookPayload = {
  /**
   * Unique identifier for this webhook event
   */
  id: string;
  /**
   * Type of the webhook event
   */
  type: DataChangedWebhookPayloadType;
  data: DataChangedWebhookPayloadData;
};

/** @internal */
export const DataChangedWebhookPayloadType$inboundSchema: z.ZodNativeEnum<
  typeof DataChangedWebhookPayloadType
> = z.nativeEnum(DataChangedWebhookPayloadType);
/** @internal */
export const DataChangedWebhookPayloadType$outboundSchema: z.ZodNativeEnum<
  typeof DataChangedWebhookPayloadType
> = DataChangedWebhookPayloadType$inboundSchema;

/** @internal */
export const DataChangedWebhookPayloadIntegrationCategory$inboundSchema:
  z.ZodNativeEnum<typeof DataChangedWebhookPayloadIntegrationCategory> = z
    .nativeEnum(DataChangedWebhookPayloadIntegrationCategory);
/** @internal */
export const DataChangedWebhookPayloadIntegrationCategory$outboundSchema:
  z.ZodNativeEnum<typeof DataChangedWebhookPayloadIntegrationCategory> =
    DataChangedWebhookPayloadIntegrationCategory$inboundSchema;

/** @internal */
export const Name$inboundSchema: z.ZodNativeEnum<typeof Name> = z.nativeEnum(
  Name,
);
/** @internal */
export const Name$outboundSchema: z.ZodNativeEnum<typeof Name> =
  Name$inboundSchema;

/** @internal */
export const ChangedModel$inboundSchema: z.ZodType<
  ChangedModel,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: Name$inboundSchema,
});
/** @internal */
export type ChangedModel$Outbound = {
  name: string;
};

/** @internal */
export const ChangedModel$outboundSchema: z.ZodType<
  ChangedModel$Outbound,
  z.ZodTypeDef,
  ChangedModel
> = z.object({
  name: Name$outboundSchema,
});

export function changedModelToJSON(changedModel: ChangedModel): string {
  return JSON.stringify(ChangedModel$outboundSchema.parse(changedModel));
}
export function changedModelFromJSON(
  jsonString: string,
): SafeParseResult<ChangedModel, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ChangedModel$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ChangedModel' from JSON`,
  );
}

/** @internal */
export const DataChangedWebhookPayloadData$inboundSchema: z.ZodType<
  DataChangedWebhookPayloadData,
  z.ZodTypeDef,
  unknown
> = z.object({
  integration_id: z.string(),
  integration_tool: z.string(),
  integration_category:
    DataChangedWebhookPayloadIntegrationCategory$inboundSchema,
  changed_models: z.array(z.lazy(() => ChangedModel$inboundSchema)),
});
/** @internal */
export type DataChangedWebhookPayloadData$Outbound = {
  integration_id: string;
  integration_tool: string;
  integration_category: string;
  changed_models: Array<ChangedModel$Outbound>;
};

/** @internal */
export const DataChangedWebhookPayloadData$outboundSchema: z.ZodType<
  DataChangedWebhookPayloadData$Outbound,
  z.ZodTypeDef,
  DataChangedWebhookPayloadData
> = z.object({
  integration_id: z.string(),
  integration_tool: z.string(),
  integration_category:
    DataChangedWebhookPayloadIntegrationCategory$outboundSchema,
  changed_models: z.array(z.lazy(() => ChangedModel$outboundSchema)),
});

export function dataChangedWebhookPayloadDataToJSON(
  dataChangedWebhookPayloadData: DataChangedWebhookPayloadData,
): string {
  return JSON.stringify(
    DataChangedWebhookPayloadData$outboundSchema.parse(
      dataChangedWebhookPayloadData,
    ),
  );
}
export function dataChangedWebhookPayloadDataFromJSON(
  jsonString: string,
): SafeParseResult<DataChangedWebhookPayloadData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DataChangedWebhookPayloadData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DataChangedWebhookPayloadData' from JSON`,
  );
}

/** @internal */
export const DataChangedWebhookPayload$inboundSchema: z.ZodType<
  DataChangedWebhookPayload,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string(),
  type: DataChangedWebhookPayloadType$inboundSchema,
  data: z.lazy(() => DataChangedWebhookPayloadData$inboundSchema),
});
/** @internal */
export type DataChangedWebhookPayload$Outbound = {
  id: string;
  type: string;
  data: DataChangedWebhookPayloadData$Outbound;
};

/** @internal */
export const DataChangedWebhookPayload$outboundSchema: z.ZodType<
  DataChangedWebhookPayload$Outbound,
  z.ZodTypeDef,
  DataChangedWebhookPayload
> = z.object({
  id: z.string(),
  type: DataChangedWebhookPayloadType$outboundSchema,
  data: z.lazy(() => DataChangedWebhookPayloadData$outboundSchema),
});

export function dataChangedWebhookPayloadToJSON(
  dataChangedWebhookPayload: DataChangedWebhookPayload,
): string {
  return JSON.stringify(
    DataChangedWebhookPayload$outboundSchema.parse(dataChangedWebhookPayload),
  );
}
export function dataChangedWebhookPayloadFromJSON(
  jsonString: string,
): SafeParseResult<DataChangedWebhookPayload, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DataChangedWebhookPayload$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DataChangedWebhookPayload' from JSON`,
  );
}
